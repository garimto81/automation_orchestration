# GFX Data Pipeline Architecture

WSOP í¬ì»¤ ë°©ì†¡ ìë™í™” ì‹œìŠ¤í…œì˜ ì „ì²´ ë°ì´í„° íŒŒì´í”„ë¼ì¸ ì•„í‚¤í…ì²˜ ë¬¸ì„œ

> **ê´€ë ¨ ë¬¸ì„œ**
> - [DB ìŠ¤í‚¤ë§ˆ ìƒì„¸ ì„¤ê³„](architecture.md) - DDL, ERD, Enum íƒ€ì… ì •ì˜
> - [ì•„í‚¤í…ì²˜ ìš”ì•½](ARCHITECTURE_ANALYSIS.md) - Executive Summary
> - [í”„ë¡œì íŠ¸ í˜„í™©](AUTOMATION_PROJECTS_REPORT.md) - 7ê°œ í”„ë¡œì íŠ¸ í˜„í™©
> - [AEP í•„ë“œ ë§¤í•‘](GFX_AEP_FIELD_MAPPING.md) - 26ê°œ ì»´í¬ì§€ì…˜ 84ê°œ í•„ë“œ ë§¤í•‘
>
> **ëª¨ë“ˆë³„ ì„¸ë¶€ ì„¤ê³„**
> - [Module 1-2 ì„¤ê³„](MODULE_1_2_DESIGN.md) - GFX ì‹œë®¬ë ˆì´í„° + NAS-Supabase Sync
> - [Module 3-5 ì„¤ê³„](MODULE_3_5_DESIGN.md) - Supabase Schema + Main/Sub Dashboard
> - [Module 6 ì„¤ê³„](MODULE_6_DATAFLOW_DESIGN.md) - AE-Nexrender + í†µí•© ë°ì´í„° íë¦„
> - [ë³‘ë ¬ ê°œë°œ ê³„íš](PARALLEL_DEVELOPMENT_PLAN.md) - 3-Phase ë³‘ë ¬ ì—ì´ì „íŠ¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜

---

## 1. ê°œìš”

### 1.1 ëª©ì 

PokerGFX ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ì—¬ After Effects ìë§‰ìœ¼ë¡œ ìë™ ë³€í™˜í•˜ëŠ” **End-to-End ë°©ì†¡ ìë™í™” ì‹œìŠ¤í…œ**

### 1.2 í•µì‹¬ íŠ¹ì§•

- **6-ëª¨ë“ˆ ì•„í‚¤í…ì²˜**: GFX Simulator â†’ Sync â†’ Supabase â†’ Main/Sub Dashboard â†’ AE-Nexrender
- **ì—­í•  ë¶„ë¦¬**: ì—°ì¶œ ê²°ì •(Main) vs ìë§‰ ì¶œë ¥(Sub)
- **ë°ì´í„° í†µí•© ìš°ì„ ìˆœìœ„**: Manual > WSOP+ > GFX
- **ì‹¤ì‹œê°„ í†µì‹ **: Supabase Realtime + WebSocket

### 1.3 ì‹œìŠ¤í…œ ê°œìš”ë„

![6-Module Pipeline Architecture](images/pipeline-dashboard.png)

---

## 2. 6ê°œ ëª¨ë“ˆ êµ¬ì„±

| # | ëª¨ë“ˆëª… | ì—­í•  | ê¸°ìˆ  ìŠ¤íƒ | ìƒíƒœ |
|---|--------|------|----------|------|
| 1 | **GFX ì‹œë®¬ë ˆì´í„°** | GFX í…ŒìŠ¤íŠ¸ìš© ì‹œë®¬ë ˆì´í„° ì•± | Python, Streamlit | âœ… ì™„ë£Œ |
| 2 | **GFX-NAS-Supabase Sync** | NASì˜ GFX ë°ì´í„° â†’ Supabase ì „ì†¡ | Python, Watchdog, asyncio | ğŸ”„ ê°œë°œì¤‘ |
| 3 | **Supabase DB Schema** | ì „ì²´ DB ì„¤ê³„ (4ê°œ ìŠ¤í‚¤ë§ˆ) | PostgreSQL 15, Supabase | ğŸ”„ ê°œë°œì¤‘ |
| 4 | **Main Dashboard** | í•¸ë“œ ìˆ˜ì§‘, ë°°ì¹˜, ì—°ì¶œ ê²°ì • | React, Next.js, TypeScript | ğŸ”„ ê°œë°œì¤‘ |
| 5 | **Sub Dashboard** | ìë§‰ ì¶œë ¥ ê²°ì •, ì‹œê³„ì—´ ê´€ë¦¬, ë Œë”ë§ ì§€ì‹œ | React, Next.js, TypeScript | ğŸ”„ ê°œë°œì¤‘ |
| 6 | **AE-Nexrender ëª¨ë“ˆ** | AEP ë Œë”ë§ â†’ ì¶œë ¥ë¬¼ ì €ì¥ | Node.js, Nexrender | ğŸ”„ ê°œë°œì¤‘ |

---

## 3. ì „ì²´ ì‹œìŠ¤í…œ íë¦„

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                    WSOP BROADCAST AUTOMATION SYSTEM v2.0                         â”ƒ
â”ƒ                           6-MODULE ARCHITECTURE                                   â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

[MODULE 1] GFX Simulator (âœ… ì™„ë£Œ)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Feature     â”‚  â”‚ Feature     â”‚  â”‚ Feature     â”‚
â”‚ Table #1    â”‚  â”‚ Table #2    â”‚  â”‚ Table #N    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                â”‚                â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ JSON Files
                        â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚   NAS (SMB)     â”‚
               â”‚ GFX JSON ê³µìœ    â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
[MODULE 2] GFX-NAS-Supabase Sync (ğŸ”„ ê°œë°œì¤‘)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Watchdog â”‚ â†’ â”‚  JSON    â”‚ â†’ â”‚ Pydantic â”‚ â†’ â”‚ Supabase â”‚
â”‚ íŒŒì¼ê°ì§€ â”‚   â”‚  Parser  â”‚   â”‚  ê²€ì¦    â”‚   â”‚   API    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                                    Realtime Broadcast
                                                  â–¼
[MODULE 3] Supabase DB Schema (ğŸ”„ ê°œë°œì¤‘)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SUPABASE (PostgreSQL 15)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   json ìŠ¤í‚¤ë§ˆ  â”‚ wsop_plus ìŠ¤í‚¤ë§ˆâ”‚  manual ìŠ¤í‚¤ë§ˆ  â”‚   ae ìŠ¤í‚¤ë§ˆ   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ gfx_sessions   â”‚ tournaments    â”‚ players_master â”‚ templates    â”‚
â”‚ hands          â”‚ blind_levels   â”‚ player_profilesâ”‚ compositions â”‚
â”‚ hand_players   â”‚ payouts        â”‚ commentators   â”‚ comp_layers  â”‚
â”‚ hand_actions   â”‚ player_instancesâ”‚ venues        â”‚ data_mappingsâ”‚
â”‚ hand_cards     â”‚ schedules      â”‚ events         â”‚ render_jobs  â”‚
â”‚ hand_results   â”‚                â”‚ feature_tables â”‚ render_outputsâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                           â”‚
         â–¼                                           â–¼
[MODULE 4] Main Dashboard                [MODULE 5] Sub Dashboard
     (ğŸ”„ ê°œë°œì¤‘)                              (ğŸ”„ ê°œë°œì¤‘)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì—­í• : ì—°ì¶œ ì˜ì‚¬ê²°ì •                       ì—­í• : ìë§‰ ì¶œë ¥ ì‹¤í–‰
     (What/When)                              (How)

ì‚¬ìš©ì: ì—°ì¶œì/PD                        ì‚¬ìš©ì: ìë§‰ ì˜¤í¼ë ˆì´í„°

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í•¸ë“œ ë¸Œë¼ìš°ì €   â”‚                      â”‚ ìë§‰ íƒ€ì„ë¼ì¸   â”‚
â”‚ íì‹œíŠ¸ í¸ì§‘     â”‚â”€â”€WebSocketâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ ìë§‰ í”„ë¦¬ë·°     â”‚
â”‚ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°   â”‚  cue_item_selected   â”‚ ë Œë” í         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                                         render_jobs INSERT
                                                  â”‚
                                                  â–¼
[MODULE 6] AE-Nexrender Module (ğŸ”„ ê°œë°œì¤‘)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ render_jobs  â”‚ â†’ â”‚After Effects â”‚ â†’ â”‚ ì¶œë ¥ íŒŒì¼    â”‚
â”‚ ëŒ€ê¸°ì‘ì—…ì¡°íšŒ â”‚   â”‚ aerender.exe â”‚   â”‚ (MP4/MOV)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                             â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ \\nas\renders  â”‚
                                    â”‚ ë¡œì»¬ ë„¤íŠ¸ì›Œí¬  â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                             â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚  vMix/OBS      â”‚
                                    â”‚  ë°©ì†¡ ì†¡ì¶œ     â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ëª¨ë“ˆ ê°„ ë°ì´í„° íë¦„

### 4.1 ë°ì´í„° íë¦„ ìš”ì•½

```
[1] GFX Simulator        â”€â”€JSONâ”€â”€â–¶  NAS

[2] GFX-NAS-Supabase     â—€â”€â”€JSONâ”€â”€  NAS
                         â”€â”€INSERTâ”€â–¶ Supabase (json.*)
                         â”€â”€Realtimeâ”€â–¶ Main Dashboard

[3] Supabase             â—€â”€â”€READ/WRITEâ”€â”€ ëª¨ë“  ëª¨ë“ˆ
                         â”€â”€Realtimeâ”€â”€â–¶ ì‹¤ì‹œê°„ ì•Œë¦¼

[4] Main Dashboard       â—€â”€â”€Realtimeâ”€â”€ Supabase (gfx_hands)
                         â”€â”€WRITEâ”€â”€â–¶ cue_sheets, cue_items
                         â”€â”€WebSocketâ”€â”€â–¶ Sub Dashboard

[5] Sub Dashboard        â—€â”€â”€WebSocketâ”€â”€ Main Dashboard
                         â—€â”€â”€READâ”€â”€ unified_*, ae.*
                         â”€â”€WRITEâ”€â”€â–¶ render_jobs

[6] AE-Nexrender         â—€â”€â”€Pollingâ”€â”€ render_jobs
                         â”€â”€UPDATEâ”€â”€â–¶ render_jobs.status
                         â”€â”€INSERTâ”€â”€â–¶ render_outputs
                         â”€â”€FILEâ”€â”€â–¶ \\nas\renders
```

---

## 5. DB í…Œì´ë¸” ë§¤í•‘í‘œ

### 5.1 ëª¨ë“ˆë³„ READ/WRITE ê¶Œí•œ

| ìŠ¤í‚¤ë§ˆ | í…Œì´ë¸” | GFX Sync | Main Dash | Sub Dash | AE-Nexrender |
|--------|--------|:--------:|:---------:|:--------:|:------------:|
| **json** | gfx_sessions | **W** | R | R | - |
| json | hands | **W** | R | R | - |
| json | hand_players | **W** | R | R | - |
| json | hand_actions | **W** | R | R | - |
| json | hand_cards | **W** | R | R | - |
| json | hand_results | **W** | R | R | - |
| **wsop_plus** | tournaments | - | R | R | - |
| wsop_plus | payouts | - | R | R | - |
| wsop_plus | player_instances | - | R | R | - |
| **manual** | players_master | - | **R/W** | R | - |
| manual | player_profiles | - | **R/W** | R | - |
| manual | commentators | - | **R/W** | R | - |
| **ae** | compositions | - | - | R | R |
| ae | composition_layers | - | - | R | R |
| ae | layer_data_mappings | - | - | R | R |
| ae | render_jobs | - | - | **W** | **R/W** |
| ae | render_outputs | - | R | R | **W** |
| **cuesheet** | broadcast_sessions | - | **W** | R | - |
| cuesheet | cue_sheets | - | **W** | R | - |
| cuesheet | cue_items | - | **W** | R | - |
| **views** | unified_players | - | R | R | - |
| views | unified_events | - | R | R | - |
| views | unified_chip_data | - | R | R | - |

### 5.2 í†µí•© ë·° (Unified Views)

| ë·° | ëª©ì  | ìš°ì„ ìˆœìœ„ |
|-----|------|----------|
| unified_players | í”Œë ˆì´ì–´ í†µí•© | 1.Manual > 2.WSOP+ > 3.GFX |
| unified_events | ì´ë²¤íŠ¸ í†µí•© | 1.Manual > 2.WSOP+ > 3.GFX |
| unified_chip_data | ì¹© ë°ì´í„° ë³‘í•© | 1.WSOP+ > 2.GFX |

---

## 6. Main Dashboard vs Sub Dashboard ì—­í•  ë¶„ë¦¬

### 6.1 ì—­í•  ë¹„êµ

| í•­ëª© | Main Dashboard | Sub Dashboard |
|------|----------------|---------------|
| **í•µì‹¬ ê¸°ëŠ¥** | ì—°ì¶œ ì˜ì‚¬ê²°ì • (What/When) | ìë§‰ ì¶œë ¥ ì‹¤í–‰ (How) |
| **ì‚¬ìš©ì** | ì—°ì¶œì/PD | ìë§‰ ì˜¤í¼ë ˆì´í„° |
| **ë°ì´í„° ì¡°íšŒ** | í•¸ë“œ, í”Œë ˆì´ì–´, ë“±ê¸‰ | ìë§‰ ë§¤í•‘, ë Œë” ì„¤ì • |
| **ë Œë”ë§ ì§€ì‹œ** | âŒ ë¶ˆê°€ | âœ… ê°€ëŠ¥ |
| **íì‹œíŠ¸ í¸ì§‘** | âœ… ê°€ëŠ¥ | ì½ê¸° ì „ìš© |
| **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°** | í…Œì´ë¸” ìƒíƒœ, í•¸ë“œ ë“±ê¸‰ | ë Œë” ì§„í–‰ë¥ , ì¶œë ¥ ê²°ê³¼ |

### 6.2 ë¶„ë¦¬ ì´ìœ 

1. **ê´€ì‹¬ì‚¬ ë¶„ë¦¬**: ì—°ì¶œ ê²°ì •(What/When) vs ì‹¤í–‰(How)
2. **ê¶Œí•œ ë¶„ë¦¬**: ë Œë”ë§ì€ ìë§‰íŒ€ë§Œ, íì‹œíŠ¸ëŠ” ì—°ì¶œíŒ€ë§Œ
3. **ë¶€í•˜ ë¶„ì‚°**: ë Œë” í ê´€ë¦¬ ë¶€í•˜ë¥¼ ë³„ë„ UIë¡œ ë¶„ë¦¬
4. **ìœ ì—°ì„±**: ê°ê° ë…ë¦½ ë°°í¬/ì—…ë°ì´íŠ¸ ê°€ëŠ¥

---

## 7. ì‹¤ì‹œê°„ í†µì‹  íŒ¨í„´

### 7.1 Supabase Realtime ì±„ë„

| ì±„ë„ | Trigger | From | To | Payload |
|------|---------|------|-----|---------|
| `gfx_hands` | INSERT | GFX-NAS-Sync | Main Dashboard | `{ id, session_id, hand_num, blinds }` |
| `render_jobs` | INSERT, UPDATE | Sub Dashboard, AE-Nexrender | ì–‘ë°©í–¥ | `{ id, status, progress, comp_name }` |
| `render_outputs` | INSERT | AE-Nexrender | Sub Dashboard | `{ id, file_path, job_id }` |

### 7.2 WebSocket Direct (Main â†” Sub)

| Event | From | To | Payload |
|-------|------|-----|---------|
| `cue_item_selected` | Main Dashboard | Sub Dashboard | `{ cue_item_id, caption_type, gfx_data, scheduled_time, duration_seconds }` |
| `render_status_update` | Sub Dashboard | Main Dashboard | `{ cue_item_id, job_id, status, progress, output_path? }` |

---

## 8. ê¸°ìˆ  ìŠ¤íƒ ì •ë¦¬

### 8.1 ëª¨ë“ˆë³„ ê¸°ìˆ  ìŠ¤íƒ

| ëª¨ë“ˆ | ì–¸ì–´ | í”„ë ˆì„ì›Œí¬ | DB Client | ì‹¤ì‹œê°„ | ë°°í¬ |
|------|------|-----------|-----------|--------|------|
| GFX Simulator | Python 3.11+ | Streamlit | - | - | Local |
| GFX-NAS-Sync | Python 3.11+ | Watchdog, asyncio | supabase-py | Realtime | NAS |
| Supabase DB | PostgreSQL 15 | - | - | Realtime | Cloud |
| Main Dashboard | TypeScript | React 18, Next.js 14 | @supabase/js | WebSocket | Vercel |
| Sub Dashboard | TypeScript | React 18, Next.js 14 | @supabase/js | WebSocket | Vercel |
| AE-Nexrender | Node.js 20+ | Nexrender | @supabase/js | Polling | Local |

### 8.2 ê³µí†µ ì¸í”„ë¼

| ì˜ì—­ | ê¸°ìˆ  |
|------|------|
| Database | Supabase (PostgreSQL 15 + Realtime + RLS) |
| Validation | JSON Schema Draft 2020-12, Pydantic v2, Zod |
| AEP Template | 26ê°œ ìë§‰ ì»´í¬ì§€ì…˜, 84ê°œ ë™ì  í•„ë“œ |
| Real-time | Supabase Realtime, Custom WebSocket Server |

---

## 9. í”„ë¡œì íŠ¸ ì—­í•  ë§¤í•‘

| í”„ë¡œì íŠ¸ | ëª¨ë“ˆ | ì—­í•  | ìƒíƒœ |
|---------|------|------|------|
| automation_feature_table | Module 1 | GFX ì‹œë®¬ë ˆì´í„° | âœ… ì™„ë£Œ |
| automation_hub | Module 2, 3 | NAS Sync, Supabase ìŠ¤í‚¤ë§ˆ | ğŸ”„ ê°œë°œì¤‘ |
| (ì‹ ê·œ) | Module 4 | Main Dashboard | ğŸ”„ ê°œë°œì¤‘ |
| (ì‹ ê·œ) | Module 5 | Sub Dashboard | ğŸ”„ ê°œë°œì¤‘ |
| automation_ae | Module 6 | AE-Nexrender | ğŸ”„ ê°œë°œì¤‘ |
| automation_orchestration | - | ì „ì²´ ë¬¸ì„œ/ëª¨ë‹ˆí„°ë§ | ğŸ“„ ë¬¸ì„œí™” |
| automation_aep | - | AEP í…œí”Œë¦¿ ë¶„ì„ | âœ… ì™„ë£Œ |

---

## 10. êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 1: í•µì‹¬ íŒŒì´í”„ë¼ì¸
- [ ] GFX-NAS-Supabase Sync ì™„ì„±
- [ ] Supabase ìŠ¤í‚¤ë§ˆ ì™„ì„± (25ê°œ í…Œì´ë¸”)
- [ ] unified_* í†µí•© ë·°

### Phase 2: ëŒ€ì‹œë³´ë“œ MVP
- [ ] Main Dashboard MVP (í•¸ë“œ ë¸Œë¼ìš°ì € + íì‹œíŠ¸)
- [ ] Sub Dashboard MVP (ìë§‰ ì„ íƒ + ë Œë” í)
- [ ] WebSocket ì—°ë™

### Phase 3: ë Œë”ë§ í†µí•©
- [ ] AE-Nexrender í†µí•©
- [ ] ì—”ë“œíˆ¬ì—”ë“œ í…ŒìŠ¤íŠ¸
- [ ] ì¥ì•  ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤

---

## 11. ê²€ì¦ ê³„íš

### 11.1 ë°ì´í„° íë¦„ ê²€ì¦
- [ ] GFX JSON â†’ NAS â†’ Supabase íŒŒì´í”„ë¼ì¸
- [ ] Supabase Realtime â†’ Main Dashboard ì•Œë¦¼
- [ ] Main â†’ Sub WebSocket ì—°ë™
- [ ] Sub â†’ AE-Nexrender render_jobs ì—°ë™

### 11.2 ë Œë”ë§ ê²€ì¦
- [ ] render_jobs ìƒì„± â†’ ë Œë”ë§ â†’ ì¶œë ¥ë¬¼ í™•ì¸
- [ ] ë Œë” í ëª¨ë‹ˆí„°ë§
- [ ] ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ë¡œì§

---

*ìµœì¢… ìˆ˜ì •: 2026-01-15*
